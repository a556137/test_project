//---------------------------------------------------------
//  CVDSCap.h     2010.8.12
//---------------------------------------------------------
 
#ifndef		OPENVCCAP
#define		OPENVCCAP
 
#include <windows.h>
#include "CameraDS.h"
#include "highgui.h"
#include <opencv2/objdetect/objdetect.hpp>
#include <opencv2/highgui/highgui.hpp>
#include <opencv2/imgproc/imgproc.hpp>
    
//---------------------------------------------------------
//  视频(摄象头)采集程序

extern CvCapture* m_Video;
extern IplImage*  m_Frame;                  //  用于存储一帧

extern int        frameSetW;
extern int        frameSetH;

extern int        frameW;
extern int        frameH;
extern int        fps;
extern int        framepS;
extern int        cap_time;                 //  冻结次数
extern int        frame_time;               //  连续采集帧数
extern unsigned long		  frameNum;
  

//extern CascadeClassifier faceCascade;
//extern CascadeClassifier closeEyeCascade;
//extern CascadeClassifier openEyeCascade;

int  StartCapture(void);                    //  启动视频
BOOL OpenAviFile(CString strFileName);      //  打开视频文件
void StartAverage(void);                    //  开始平均
int  LoadImageFrame(IplImage* pImg,int f);  //  读出视频图像
void AverageImage(IplImage* pImg);          //  多图像平均
void AbortCapture(IplImage* pImg);          //  关闭视频
BOOL SetParameter(void);                    //  属性选择
BOOL LoadCascades();
 
#endif  //OPENVCCAP


